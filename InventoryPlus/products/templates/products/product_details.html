{% extends "main/base.html" %}

{% block title %}Product Details Page{% endblock %}

{% block content %}
<main class="px-32">
  <!-- Displaying messages -->
  {% if messages %}
  <div class="my-4">
    {% for message in messages %}
      <div class="{% if message.tags == 'success' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %} p-4 mb-4 rounded">
        {{ message }}
      </div>
    {% endfor %}
  </div>
  {% endif %}
  
  <div class="flex flex-row items-stretch gap-16 mt-10 mb-8">
    <div>
      <img src="{{ product.image.url }}" alt="{{ product.name }}" class="mb-4 w-[500px] h-[450px] object-cover rounded-sm">
    </div>
    <div>
      <h1 class="text-3xl font-bold my-4">{{ product.name }}</h1>
      <p class="text-gray-700 mt-8 mb-4"><strong>Category:</strong> {{ product.category }}</p>
      <p class="text-gray-700 mb-4"><strong>Suppliers:</strong>
        {% for supplier in product.supplier.all %}
          {{ supplier.name }}{% if not forloop.last %}, {% endif %}
        {% empty %}
          <span>No suppliers found</span>
        {% endfor %}
      </p>
      <p class="text-gray-700 mb-4"><strong>Description:</strong> {{ product.description }}</p>
      <p class="text-gray-700 mb-4"><strong>Price:</strong> ${{ product.price }}</p>
      <p class="text-gray-700 mb-4"><strong>Stock Quantity:</strong> {{ product.stock_quantity }}</p>
      {% if product.expiry_date %}
        <p class="text-gray-700 mb-4"><strong>Expiry Date:</strong> {{ product.expiry_date }}</p>
      {% endif %}
      <div class="flex flex-row gap-4 w-1/3 mt-14">
        <a href="{% url 'products:edit_product_view' product.id %}" class="text-center border-2 border-customPurple text-customPurple hover:bg-customPurple hover:text-white font-bold py-1 px-16 rounded focus:outline-none focus:shadow-outline">Edit</a>
        <a href="{% url 'products:delete_product_view' product.id %}" class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-16 text-center rounded focus:outline-none focus:shadow-outline">Delete</a>
      </div>
    </div>  
      
  </div>
  
</main>
{% endblock %}
